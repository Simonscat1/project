{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kazak\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\project\\\\client\\\\src\\\\Components\\\\Panel\\\\Panel.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport ModalPanel from \"../../Pages/ModalPanel/ModalPanel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst admin = [\"323827486750146561\"];\nconst Panel = _ref => {\n  _s();\n  let {\n    user\n  } = _ref;\n  const [reqPost, setReqPost] = useState(null);\n  const [modalActive, setModalActive] = useState(false);\n  const [values, setValue] = useState(null);\n  useEffect(() => {\n    const getPostReq = () => {\n      fetch('/api/posts/req/get', {\n        method: \"GET\",\n        credentials: 'include',\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Credentials\": true\n        }\n      }).then(response => {\n        if (response.status === 200) return response.json();\n        throw new Error(\"Ошибка\");\n      }).then(resObject => {\n        setReqPost(resObject.post_req);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    getPostReq();\n  });\n  const GetUser = _ref2 => {\n    let {\n      isUserGet,\n      reqPost\n    } = _ref2;\n    const Postes_add = reqPost => {\n      function Toggle(event) {\n        reqPost.forEach(posted => {\n          if (posted._id === event.target.value) {\n            setValue(posted);\n          }\n          ;\n        });\n      }\n      ;\n      function handleClick(event) {\n        if (event.target.title === \"delete\") {\n          reqPost.forEach(postes => {\n            if (postes._id === event.target.value) {\n              const newPost = {\n                id: postes._id,\n                title: postes.title\n              };\n              axios.post(\"/api/delete\", newPost);\n              window.location.reload();\n            }\n            ;\n          });\n        }\n        ;\n      }\n      ;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [reqPost.title, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"\",\n            onClick: event => {\n              setModalActive(true);\n              Toggle(event);\n            },\n            title: \"edit\",\n            value: reqPost._id,\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"\",\n            onClick: event => {\n              handleClick(event);\n            },\n            title: \"delete\",\n            value: reqPost._id,\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, reqPost._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [reqPost.map(reqPost => Postes_add(reqPost)), modalActive ? /*#__PURE__*/_jsxDEV(ModalPanel, {\n        active: modalActive,\n        setActive: setModalActive,\n        user: user,\n        posts: reqPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 32\n      }, this) : false]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  };\n  const GuestGreeting = _ref3 => {\n    let {\n      isUserGets\n    } = _ref3;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"What are doing in my swamp \", isUserGets.userName]\n    }, void 0, true);\n  };\n  function Greeting(props) {\n    const isLoggedIn = props.isLoggedIn.userID;\n    for (let i = 0; i < admin.length; i++) {\n      if (admin[i] === isLoggedIn) {\n        if (reqPost !== null) {\n          return /*#__PURE__*/_jsxDEV(GetUser, {\n            isUserGet: user,\n            reqPost: reqPost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 28\n          }, this);\n        }\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(GuestGreeting, {\n      isUserGets: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Greeting, {\n      isLoggedIn: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Panel, \"7rJ9BjMWQ2fzCmctwE/owK5cBuA=\");\n_c = Panel;\nexport default Panel;\nvar _c;\n$RefreshReg$(_c, \"Panel\");","map":{"version":3,"names":["useEffect","useState","axios","ModalPanel","admin","Panel","user","reqPost","setReqPost","modalActive","setModalActive","values","setValue","getPostReq","fetch","method","credentials","headers","then","response","status","json","Error","resObject","post_req","catch","err","console","log","GetUser","isUserGet","Postes_add","Toggle","event","forEach","posted","_id","target","value","handleClick","title","postes","newPost","id","post","window","location","reload","map","GuestGreeting","isUserGets","userName","Greeting","props","isLoggedIn","userID","i","length"],"sources":["C:/Users/kazak/OneDrive/Рабочий стол/project/client/src/Components/Panel/Panel.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport axios from \"axios\"\r\nimport ModalPanel from \"../../Pages/ModalPanel/ModalPanel\"\r\nconst admin = [\"323827486750146561\"]\r\n\r\nconst Panel = ({ user }) => {\r\n    const [reqPost, setReqPost] = useState(null)\r\n    const [modalActive, setModalActive] = useState(false);\r\n    const [values,  setValue] = useState(null);\r\n    useEffect(() => {\r\n        const getPostReq = () => {\r\n            fetch('/api/posts/req/get', {\r\n                method: \"GET\",\r\n                credentials: 'include',\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Access-Control-Allow-Credentials\": true,\r\n                }\r\n            }).then((response) => {\r\n                if(response.status === 200) return response.json();\r\n                throw new Error(\"Ошибка\");\r\n            }).then((resObject) => { \r\n                    setReqPost(resObject.post_req)\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            });\r\n        };\r\n        getPostReq();\r\n    })\r\n\r\n    const GetUser = ({ isUserGet,reqPost }) => {\r\n        const Postes_add = (reqPost) => {\r\n            function Toggle(event){\r\n                reqPost.forEach((posted) => {\r\n                    if(posted._id === event.target.value){\r\n                        setValue(posted);\r\n                    };\r\n                });\r\n            };\r\n            function handleClick(event){\r\n                if(event.target.title === \"delete\"){\r\n                    reqPost.forEach(postes =>{\r\n                        if(postes._id === event.target.value){\r\n                            const newPost = {\r\n                                id: postes._id,\r\n                                title: postes.title\r\n                            };\r\n                            axios.post(\"/api/delete\", newPost);\r\n                            window.location.reload();\r\n                        };\r\n                    });\r\n                };\r\n            };\r\n\r\n            return(\r\n                <div className=\"\" key={reqPost._id}>\r\n                    <ul>\r\n                        {reqPost.title}\r\n                        <button className=\"\" onClick={(event) =>{ setModalActive(true); Toggle(event)}} title=\"edit\" value={reqPost._id}>Добавить</button>\r\n                        <button className=\"\" onClick={(event) => {handleClick(event)}} title=\"delete\" value={reqPost._id}>Удалить</button>\r\n                    </ul>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div>\r\n                {reqPost.map(reqPost => Postes_add(reqPost))}\r\n                {modalActive ? <ModalPanel active={modalActive} setActive ={setModalActive} user={user} posts={reqPost} /> : false}\r\n            </div>\r\n        )\r\n    }\r\n    const GuestGreeting = ({ isUserGets }) =>{\r\n        return(\r\n            <>What are doing in my swamp {isUserGets.userName}</>\r\n        )\r\n    }\r\n    function Greeting(props){\r\n        const isLoggedIn = props.isLoggedIn.userID\r\n        for(let i = 0; i < admin.length; i++){\r\n            if(admin[i] === isLoggedIn){\r\n                if(reqPost !== null){\r\n                    return <GetUser isUserGet={user} reqPost={reqPost} />\r\n                }\r\n            }\r\n        }\r\n        return <GuestGreeting isUserGets={user} />;\r\n    }\r\n    return(\r\n        <>\r\n            <Greeting isLoggedIn={user} />\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Panel;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}